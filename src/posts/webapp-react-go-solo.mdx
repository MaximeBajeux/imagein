---
title: "WebAPP React GO MsSQL - Retour d'expÃ©rience"
label: "WebAPP React + GO en Solo !"
h1: "WebAPP React + GO en Solo !"
slug: "webapp-react-go-solo"
date: "2023-03-08"
description: "Depuis quelques temps nous travaillons avec un client pour lequel nous avons dÃ©jÃ  rÃ©alisÃ© diverses designs, visuels et reportages vidÃ©o. Travaillant actuellement avec lui sur une plateforme web en react et GO, nous vous faisons un REX sur le sujet"
image: "../images/blog/go-react.png"
imageAlt: "Le logo reprÃ©sente une fusion entre le logo de React et le logo du langage Go."
type: "article"
---

Depuis quelques temps nous travaillons avec un client pour lequel nous avons dÃ©jÃ  rÃ©alisÃ© diverses designs, visuels et reportages vidÃ©o. Or, ce client avait un projet plus grand, un web app complÃ¨te ! GÃ©nial, jâ€™aime coder et je commenÃ§ais Ã  mâ€™attrister quâ€™on me propose majoritairement des wordpress pour lesquels je nâ€™ai pas grand chose de technique Ã  faire, jâ€™accepte ! Le budget est en dessous de ce que je demanderais normalement mais câ€™est un projet que jâ€™avais rÃ©ellement envie de faire. Disons juste que la dÃ©finition du J de mon TJM est passÃ© de 7h de travail Ã  16h ğŸ˜…

![Un gif du film predator reprÃ©sentat Arnold Schwarzenegger et Carl Weathers se serrant la main.](https://media.tenor.com/G-Zga3CzU00AAAAC/predator-handshake.gif)

<small>Thatâ€™s a go(o)d deal !</small>

## Sur quoi travaillons nous ?

Ahah, tant que le projet nâ€™est pas en production je suis tenu au secret, sachez juste que Ã§a a un lien avec ma passion, la musique ! Je joue du saxophone depuis mon enfance aussi bien seul quâ€™en groupe et jâ€™ai toujours espÃ©rÃ© pouvoir apporter ma pierre Ã  lâ€™Ã©difice, câ€™Ã©tait lâ€™occasion rÃªvÃ©e.

![Un gif de Leo P jouant du saxophone en agitant les sourcils](https://media.tenor.com/1eZ3zCPUhvkAAAAd/leo-p-eyebrows.gif)

<small>The most epic sax guy</small>

Normalement, dâ€™ici le mois dâ€™avril, jâ€™aurais des choses Ã  vous montrer, jâ€™espÃ¨re vous tenir en haleine jusquâ€™alors !

## La stack technique !

Ce que jâ€™aime en particulier sur ce projet, câ€™est que mon interlocuteur est lui aussi du mÃ©tier. Souhaitant le meilleur pour son projet, il mâ€™a laissÃ© carte blanche presque totale pour le dÃ©veloppement de son app.

![un gif d'un homme dansant dans un ascenseur en quittant le travail](https://media.tenor.com/JNrTNBR-kK0AAAAC/dancing-elevator.gif)

<small>LibÃ©rÃ©eeeee ! ğŸ¤</small>

Il mâ€™a juste donnÃ© 3 contraintes:

- Lâ€™hÃ©bergement sera sur serveur azure
- La base de donnÃ©es sera une base [sqlserver](https://fr.wikipedia.org/wiki/Microsoft_SQL_Server)
- Le systÃ¨me dâ€™authentification sera via [OpenID Connect](https://openid.net/connect/), mais nous y reviendrons.

De mon cÃ´tÃ©, jâ€™ai fait des choix relativement simples dâ€™un point de vue technique. CÃ´tÃ© frontend, jâ€™ai optÃ© pour une app React avec [Vite](https://vitejs.dev/), histoire de ne pas passer le quart de ma vie en build time. CÃ´tÃ© back, jâ€™ai optÃ© pour une API en [Go](https://go.dev/) avec les packages go-oidc (OpenID), gorm (bdd) et gin (API).

## Le frontend

Avant de me lancer dans ce projet, le dernier vrai projet que jâ€™avais conduit en React pur remontait Ã  2020, entre temps jâ€™ai eu ma phase [VueJS](https://vuejs.org/), puis mon focus sur [GatsbyJS](https://www.gatsbyjs.com/) (Le goat ğŸ’–). Histoire de visualiser Ã  quoi Ã§a ressemblait Ã  lâ€™Ã©poque, la norme incitait toujours Ã  utiliser les class components et on commenÃ§ait seulement Ã  parler des hooks. Personnellement je nâ€™ai jamais aimÃ© les class components, câ€™Ã©tait dâ€™ailleurs la raison pour laquelle jâ€™Ã©tais parti sur Vue pendant quelques temps. De la mÃªme maniÃ¨re, il Ã©tait trÃ¨s courant dâ€™utiliser le duo axios / lodash qui a sauvÃ© bien des projets Ã  lâ€™Ã©poque.

![Un gif d'un homme soufflant sur une guitare extrÃªmement poussiÃ¨reuse](https://media.tenor.com/SL99S-N7xC8AAAAd/blow-dan-oconnor.gif)

<small>Ashes to ashes, dust to dust</small>

Tout Ã§a pour dire, il a fallu se mettre Ã  jour ! Je maitrisais dÃ©jÃ  les hooks avec Gatsby, mais jâ€™ai du me mettre Ã  fetch et rÃ©apprendre Ã  faire du fonctionnel sans lodash.

LÃ  oÃ¹ jâ€™ai eu une petite dÃ©convenue, câ€™est lorsque jâ€™ai voulu implÃ©menter le pattern suspense avec fetch. Si vous ne connaissez pas, câ€™est un pattern [â€œRender-as-you-fetchâ€](https://17.reactjs.org/docs/concurrent-mode-suspense.html), quâ€™on peut opposer au classique â€œFetch-on-renderâ€ que lâ€™on pratique habituellement avec useEffect. Jâ€™ai Ã©tÃ© sÃ©duit par lâ€™Ã©lÃ©gance de la chose, mais je pense que la technologie nâ€™est pas encore assez mure pour Ãªtre utilisÃ©e en production. Câ€™est donc aprÃ¨s quelques essais que jâ€™ai changÃ© mon fusil dâ€™Ã©paule afin de revenir Ã  une implÃ©mentation plus traditionnelle.

Dâ€™un point de vue UX/UI, nous nâ€™avions ni le temps ni le budget de nous lancer sur de longues itÃ©rations niveau maquette et dÃ©veloppement dâ€™un design system. Pour cette raison, nous avons dÃ©cidÃ© de partir sur une intÃ©gration [Bootstrap](https://getbootstrap.com/) presque Vanilla, juste avec un peu de theming histoire dâ€™avoir une identitÃ© visuelle. Jâ€™ai nÃ©anmoins maquettÃ© lâ€™app sur [Figma](https://figma.com) avec un template afin de donner une direction au projet.

## Le backend

Pour lâ€™API en Go, jâ€™avais Ã©galement quelques versions de retard dans ma veille, mais jâ€™ai toujours trouvÃ© que mÃªme si les choses Ã©voluaient, elles Ã©voluaient moins vite du cÃ´tÃ© du back que du front, autrement dit, Ã  part quelques packages obsolÃ¨tes que jâ€™ai du remplacÃ©, je nâ€™ai pas eu Ã  changer grand chose.

Je vous disais plutÃ´t quâ€™il y avait 3 contraintes de la part de mon client, notamment une base de donnÃ©es sqlserver et une implÃ©mentation dâ€™openID connect !

![Un gif de P'tit Biscuit dÃ©fÃ©quant des bonbons](https://media.tenor.com/1qCs5ivQr7sAAAAC/accurate-cookies.gif)

<small>Heureusement je portais un pantalon marron</small>

La crainte de ces technologies vient plus du fait que je ne les connaissais pas avant de les implÃ©menter que des technologies en elle mÃªme. CÃ´tÃ© bdd, en gÃ©nÃ©ral, jâ€™aime beaucoup postgresql, du coup je sais exactement ce que jâ€™ai Ã  faire pour me crÃ©er une base de dev sur docker, faire des imports, des exports, lâ€™intÃ©grer avec Go, etc. Je ne peux dâ€™ailleurs que vous recommander la lecture de [â€œThe art of PostgreSQLâ€ de Dimitri Fontaine](https://theartofpostgresql.com/) ğŸŸ¦â¬œğŸŸ¥ qui est le king du game !

LÃ  oÃ¹ avec postgres je nâ€™utilise que le package sql de base de Go et oÃ¹ jâ€™Ã©cris mes migrations Ã  la main avec SQL migrate, jâ€™ai du changer ma maniÃ¨re de faire avec sqlserver et me rÃ©signer Ã  utiliser gorm. Par principe, je ne suis pas un amateur dâ€™ORM, je prÃ©fÃ¨re maitriser finement mon schÃ©ma de table et mes jointures. NÃ©anmoins je dois bien avouer que gorm mâ€™a fait gagner beaucoup de temps.

LÃ  oÃ¹ par contre jâ€™en ai perdu Ã©normÃ©ment, câ€™est dans lâ€™implÃ©mentation dâ€™OpenID Connect. Lâ€™authentification en gÃ©nÃ©ral est un sujet qui mâ€™a toujours fait un peu peur, parce que sensible. Aussi bien, jâ€™essaie de lâ€™Ã©viter en gÃ©nÃ©ral et je nâ€™avais encore jamais eu Ã  implÃ©menter en particulier OpenID. La stack Go + React nâ€™est certes pas trÃ¨s courante, je mâ€™attendais quand mÃªme Ã  trouver plus de documentation sur le sujet. Il mâ€™a fallu beaucoup fouiller et BEAAAAUCOUP expÃ©rimenter avant dâ€™arriver Ã  un rÃ©sultat satisfaisant. Je dois mÃªme avouer que dans lâ€™histoire câ€™est ChatGPT qui mâ€™a le plus aidÃ©, mÃªme si lui Ã©galement pÃ©dalait dans la semoule !

## Ã‰tat dâ€™avancement actuel

LÃ  oÃ¹ nous en sommes, toutes les briques technologiques pour le livrable Ã  venir sont en place, il ne me â€œreste plus quâ€™Ã â€ Ã©crire les routes de lâ€™API et les brancher cÃ´tÃ© frontend. Jâ€™ai dÃ©veloppÃ© le front avec une API mockÃ©e donc il nâ€™y aura pas grand chose Ã  faire de ce cÃ´tÃ©, je pars surtout dans quelques jours dâ€™Ã©criture de [CRUD](https://fr.wikipedia.org/wiki/CRUD) (Create, Read, Update, Delete).

![Un gif d'un homme faisant toot toot Ã  cÃ´tÃ© d'une locomotive](https://media.tenor.com/-HDcLxo_vLYAAAAd/all-aboard-train.gif)

<small>Un projet sur les rails ğŸ¥</small>

Nous sommes sur les chapeaux de roues avec mon client pour vite mettre en place cette solution et jâ€™ai vraiment hÃ¢te de pouvoir vous prÃ©senter ce travail qui a demandÃ© beaucoup dâ€™huile de coude et de rÃ©flexion ! EspÃ©rons que la mise en prod sur serveur Azure se passe bien !

To be continuedâ€¦
